{% verbatim %}
%html{ng-app: 'tarambayApp'}
	%head
		%title
			Tarambay!
		%link{rel:"stylesheet", href:"https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.css"}
		%link{rel:"stylesheet", href:"/static/css/app.css"}
	%body{layout:"column", 'ng-controller': 'tarambayAppController as tarambay'}
		<md-toolbar layout="row">
			%div{class:"md-toolbar-tools header"}
				%h1{class:'title'}
					Tarambay!
		</md-toolbar>
		%div{layout:"row", 'layout-align':'center center', 'layout-margin':None, 'map-lazy-load': "http://maps.google.com/maps/api/js"}
			%div#map-background{'map':None, 'center':"41,-87", 'zoom':"3"}
			<md-card flex="80" class="search-container">
				<md-card-content>
					%div{layout:'column', 'ng-controller':'SearchFormController as searchForm'}
						<md-input-container flex class="md-icon-float">
							%label
								Search Events
							<md-icon md-svg-src="/static/img/icons/magnify.svg" class="search"></md-icon>
							%input{ng-model:"searchForm.params.query"}
						</md-input-container>
				</md-card-content>
			</md-card>
			%div
				<md-button class="md-fab" aria-label="Add Event" ng-click="tarambay.toggleAddEvent()">
					<md-icon md-svg-src="/static/img/icons/plus.svg"></md-icon>
				</md-button>

		%div{layout:"row", layout-align:"center center", class:'add-event-container', }
			%div{layout:"column", 'layout-fill':None, flex:"70"}
				<md-card class="ng-hide" ng-show="tarambay.addEventVisible">
					<md-card-content>
						%form{ng-submit:"tarambay.saveEvent()"}
							<md-toolbar>
								%div{class:"md-toolbar-tools"}
									%h2
										Add Event
									%span{flex:None}
									<md-button class="md-icon-button" type="button" ng-click="tarambay.cancelAddEvent()">
										<md-icon md-svg-src="/static/img/icons/close.svg" aria-label="Close dialog"></md-icon>
									</md-button>
							</md-toolbar>
							<md-dialog-content class="selectdemoOptionsWithAsyncSearch" >
								%div{layout:'column'}
									<md-select ng-model="tarambay.addEvent.params.categories" placeholder="Category" md-on-open="tarambay.loadCategories()" required>
										<md-option ng-value="category.id" data-ng-repeat="category in tarambay.categories">{{category.name}}</md-option>
									</md-select>
									<md-input-container>
										%label
											Title
										%input{ng-model:"tarambay.addEvent.params.title", required:None}
									</md-input-container>
									<md-input-container>
										%label
											Location
										%input{ng-model:"tarambay.addEvent.params.location", required:None}
									</md-input-container>
									<j-md-datepicker ng-model="tarambay.addEvent.params.start" placeholder="Enter start date" orientation="landscape">
									</j-md-datepicker>
									<j-md-datepicker ng-model="tarambay.addEvent.params.end" placeholder="Enter end date" orientation="landscape">
									</j-md-datepicker>
									<md-chips ng-model="tarambay.addEvent.params.tags" placeholder="Enter a tag" delete-button-label="Remove Tag" delete-hint="Press delete to remove tag" secondary-placeholder="Enter a tag">
									</md-chips>
									%div
										%p
											Set privacy:
										<md-radio-group ng-model="tarambay.addEvent.params.private">
											<md-radio-button data-ng-value="true" class="md-primary">Private</md-radio-button>
											<md-radio-button data-ng-value="false">Public</md-radio-button>
										</md-radio-group>
							</md-dialog-content>

							%div{class:"md-actions", layout:"row"}
								<span flex></span>
								<md-button type="button" ng-click="tarambay.cancelAddEvent()">
									Cancel
								</md-button>
								<md-button>
									Save
								</md-button>
					</md-card-content>
				</md-card>

		%script{src:"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"}
		%script{src:"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"}
		%script{src:"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js"}
		%script{src:"https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.js"}
		%script{src:"https://cdnjs.cloudflare.com/ajax/libs/less.js/2.5.1/less.min.js"}
		%script{src: "http://rawgit.com/allenhwkim/angularjs-google-maps/master/build/scripts/ng-map.min.js"}
		%script{src:"/static/mdThemeColors.js"}
		%script{src:"/static/app.js"}
{% endverbatim %}